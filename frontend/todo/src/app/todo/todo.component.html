<div class="container py-4">
  <div class="d-flex align-items-center justify-content-between mb-3">
    <div>
      <h1 class="h3 fw-bold mb-1">Todo</h1>
      <p class="text-muted mb-0">Create or edit your task with quick validation.</p>
    </div>
  </div>

  <div class="alert alert-warning shadow-sm" *ngIf="todoForm.dirty && targetDate.invalid">
    <i class="fa fa-exclamation-triangle me-2"></i>Enter a valid Target Date
  </div>
  <div class="alert alert-warning shadow-sm" *ngIf="todoForm.dirty && description.invalid">
    <i class="fa fa-exclamation-triangle me-2"></i>Enter at least 5 characters in Description
  </div>
  
  <div class="card shadow-sm border-0">
    <div class="card-body">
      <form (ngSubmit)="!todoForm.invalid && saveTodo()" #todoForm="ngForm" class="row g-3">
        <div class="col-12">
          <label class="form-label fw-semibold">Description<span class="text-danger">*</span></label>
          <div class="input-group">
            <span class="input-group-text bg-light"><i class="fa fa-pencil text-secondary"></i></span>
            <input type="text" #description="ngModel" [(ngModel)]="todo.description" class="form-control" name="description" required minlength="5" placeholder="What do you need to get done?">
          </div>
          <small class="text-muted">Minimum 5 characters.</small>
        </div>
      
        <div class="col-md-6">
          <label class="form-label fw-semibold">Target Date<span class="text-danger">*</span></label>
          <div class="input-group">
            <span class="input-group-text bg-light"><i class="fa fa-calendar text-secondary"></i></span>
            <input type="date" #targetDate="ngModel" [ngModel]="todo.targetDate | date:'yyyy-MM-dd' "
            (ngModelChange)="todo.targetDate = $event" class="form-control" name="targetDate" required>
          </div>
        </div>
      
        <div class="col-md-6">
          <label class="form-label fw-semibold">Status</label>
          <div class="input-group">
            <span class="input-group-text bg-light"><i class="fa fa-flag text-secondary"></i></span>
            <select [(ngModel)]="selectedStatus" (ngModelChange)="onStatusChange()" class="form-select" name="status">
              <option *ngFor="let option of statusOptions" [ngValue]="option.value">{{option.label}}</option>
            </select>
          </div>
        </div>
      
        <div class="col-12 d-flex justify-content-end gap-2 mt-2">
          <button type="submit" class="btn btn-success px-4 shadow-sm" [disabled]="todoForm.invalid">
            <i class="fa fa-save me-2"></i>Save
          </button>
        </div>
      </form>
    </div>
  </div>
</div>